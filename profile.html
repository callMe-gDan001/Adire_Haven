<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>My Account - Adire Haven</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: #f8f8f8; }

        /* Navbar */
        nav { background-color: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: fixed; top: 0; left: 0; right: 0; z-index: 1000; }
        .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 20px; display: flex; justify-content: space-between; align-items: center; height: 80px; }
        .logo { display: flex; align-items: center; }
        .logo img { height: 60px; width: auto; }
        .nav-links { display: flex; gap: 40px; list-style: none; }
        .nav-links a { text-decoration: none; color: #333; font-size: 16px; font-weight: 500; transition: color 0.3s; }
        .nav-links a:hover { color: #2a2a2a; }
        .nav-actions { display: flex; gap: 20px; align-items: center; }
        .cart-icon, .user-icon { cursor: pointer; display: flex; align-items: center; position: relative; }
        .cart-icon svg, .user-icon svg { width: 24px; height: 24px; stroke: #333; transition: stroke 0.3s; }
        .cart-count { position: absolute; top: -8px; right: -8px; background: #2a2a2a; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 12px; display: flex; align-items: center; justify-content: center; font-weight: 600; }
        .mobile-menu-btn { display: none; background: none; border: none; cursor: pointer; padding: 5px; }
        .mobile-menu-btn svg { width: 28px; height: 28px; stroke: #333; }
        .mobile-nav { display: none; background-color: white; border-top: 1px solid #e5e5e5; padding: 20px; }
        .mobile-nav.active { display: block; }
        .mobile-nav a { display: block; padding: 12px 16px; text-decoration: none; color: #333; border-radius: 6px; }

        /* Dashboard Header */
        .dashboard-header { margin-top: 80px; padding: 40px 20px; background: white; border-bottom: 1px solid #e5e5e5; }
        .dashboard-header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .dashboard-header h1 { font-size: 32px; font-weight: 700; color: #2a2a2a; }
        .welcome-text { color: #666; margin-top: 5px; }
        .logout-btn { padding: 10px 24px; background: white; border: 2px solid #2a2a2a; color: #2a2a2a; font-size: 14px; font-weight: 600; cursor: pointer; border-radius: 6px; transition: all 0.3s; }
        .logout-btn:hover { background: #2a2a2a; color: white; }

        /* Dashboard Container */
        .dashboard-container { max-width: 1200px; margin: 40px auto 60px; padding: 0 20px; display: grid; grid-template-columns: 280px 1fr; gap: 30px; }

        /* Sidebar */
        .dashboard-sidebar { background: white; padding: 25px; border-radius: 8px; height: fit-content; position: sticky; top: 100px; }
        .sidebar-menu { list-style: none; }
        .sidebar-menu li { margin-bottom: 5px; }
        .sidebar-menu a { display: flex; align-items: center; gap: 12px; padding: 12px 15px; color: #666; text-decoration: none; border-radius: 6px; transition: all 0.3s; font-size: 14px; font-weight: 500; }
        .sidebar-menu a:hover { background: #f8f8f8; color: #2a2a2a; }
        .sidebar-menu a.active { background: #2a2a2a; color: white; }
        .sidebar-menu svg { width: 20px; height: 20px; stroke: currentColor; }

        /* Dashboard Content */
        .dashboard-content { background: white; padding: 40px; border-radius: 8px; min-height: 500px; }
        .section-title { font-size: 24px; font-weight: 700; color: #2a2a2a; margin-bottom: 30px; }
        
        /* Stats Cards */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 8px; color: white; }
        .stat-card:nth-child(2) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .stat-label { font-size: 14px; opacity: 0.9; margin-bottom: 8px; }
        .stat-value { font-size: 32px; font-weight: 700; }

        /* Orders Table */
        .orders-table { width: 100%; border-collapse: collapse; }
        .orders-table th { text-align: left; padding: 15px; background: #f8f8f8; font-size: 14px; font-weight: 600; color: #2a2a2a; border-bottom: 2px solid #e5e5e5; }
        .orders-table td { padding: 15px; border-bottom: 1px solid #e5e5e5; font-size: 14px; color: #666; }
        .orders-table tr:hover { background: #f8f8f8; }
        .order-id { color: #2a2a2a; font-weight: 600; }
        .order-status { padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; display: inline-block; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-processing { background: #cfe2ff; color: #084298; }
        .status-shipped { background: #d1e7dd; color: #0f5132; }
        .status-delivered { background: #d1e7dd; color: #0f5132; }
        .status-cancelled { background: #f8d7da; color: #842029; }
        .view-btn { padding: 6px 16px; background: #2a2a2a; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; transition: all 0.3s; }
        .view-btn:hover { background: #000; }

        .empty-state { text-align: center; padding: 60px 20px; }
        .empty-state svg { width: 80px; height: 80px; stroke: #ccc; margin-bottom: 20px; }
        .empty-state h3 { font-size: 20px; color: #999; margin-bottom: 10px; }
        .empty-state p { color: #999; margin-bottom: 20px; }
        .empty-state .btn { padding: 12px 24px; background: #2a2a2a; color: white; text-decoration: none; border-radius: 6px; display: inline-block; font-weight: 600; }

        /* Profile Form */
        .profile-form { max-width: 600px; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; font-size: 14px; font-weight: 600; color: #2a2a2a; margin-bottom: 8px; }
        .form-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; transition: border-color 0.3s; }
        .form-group input:focus { outline: none; border-color: #2a2a2a; }
        .form-group input:disabled { background: #f8f8f8; cursor: not-allowed; }
        .save-btn { padding: 12px 32px; background: #2a2a2a; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; transition: all 0.3s; }
        .save-btn:hover { background: #000; }

        /* Order Details Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: white; padding: 40px; border-radius: 8px; width: 90%; max-width: 700px; max-height: 80vh; overflow-y: auto; position: relative; }
        .close-modal { position: absolute; top: 20px; right: 25px; font-size: 28px; color: #999; cursor: pointer; font-weight: 300; }
        .close-modal:hover { color: #333; }
        .modal-title { font-size: 24px; font-weight: 700; color: #2a2a2a; margin-bottom: 25px; }
        .order-detail-section { margin-bottom: 25px; padding-bottom: 25px; border-bottom: 1px solid #e5e5e5; }
        .order-detail-section:last-child { border-bottom: none; }
        .order-detail-section h3 { font-size: 16px; font-weight: 600; color: #2a2a2a; margin-bottom: 15px; }
        .detail-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; }
        .detail-label { color: #666; }
        .detail-value { color: #2a2a2a; font-weight: 600; }
        .order-items { margin-top: 15px; }
        .order-item { display: flex; gap: 15px; margin-bottom: 15px; padding: 15px; background: #f8f8f8; border-radius: 6px; }
        .order-item-img { width: 60px; height: 60px; border-radius: 6px; object-fit: cover; }
        .order-item-info { flex: 1; }
        .order-item-info h4 { font-size: 14px; font-weight: 600; color: #2a2a2a; margin-bottom: 5px; }
        .order-item-info p { font-size: 12px; color: #666; }

        /* Success Alert */
        .success-alert { background: #d1e7dd; border: 1px solid #badbcc; color: #0f5132; padding: 15px 20px; border-radius: 6px; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; }
        .success-alert svg { width: 24px; height: 24px; flex-shrink: 0; }

        /* Toast Notification */
        .toast { position: fixed; top: 100px; right: 20px; background: #00a86b; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); z-index: 2000; display: none; align-items: center; gap: 12px; animation: slideIn 0.3s ease; }
        .toast.show { display: flex; }
        .toast.error { background: #e74c3c; }
        @keyframes slideIn { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        @media (max-width: 992px) {
            .dashboard-container { grid-template-columns: 1fr; }
            .dashboard-sidebar { position: static; }
            .stats-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .nav-links { display: none; }
            .mobile-menu-btn { display: block; }
            .dashboard-header-content { flex-direction: column; align-items: flex-start; gap: 15px; }
            .dashboard-content { padding: 25px; }
            .orders-table { font-size: 12px; }
            .orders-table th, .orders-table td { padding: 10px; }
            .orders-table .hide-mobile { display: none; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <img src="assets/images/Adire_haven logos.png" alt="ADIRE_HAVEN">
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <div class="user-icon" onclick="window.location.href='dashboard.html'">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                    </svg>
                </div>
                <div class="cart-icon" onclick="window.location.href='shop.html'">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
                    </svg>
                    <span class="cart-count">0</span>
                </div>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="mobile-nav" id="mobileNav">
            <a href="index.html">Home</a>
            <a href="shop.html">Shop</a>
            <a href="#about">About</a>
            <a href="#contact">Contact</a>
        </div>
    </nav>

    <div class="dashboard-header">
        <div class="dashboard-header-content">
            <div>
                <h1>My Account</h1>
                <p class="welcome-text">Welcome back, <span id="userName">John Doe</span>!</p>
            </div>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>
    </div>

    <div class="dashboard-container">
        <aside class="dashboard-sidebar">
            <ul class="sidebar-menu">
                <li>
                    <a href="#" class="active" data-section="overview">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
                        </svg>
                        Overview
                    </a>
                </li>
                <li>
                    <a href="#" data-section="orders">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                        </svg>
                        My Orders
                    </a>
                </li>
                <li>
                    <a href="#" data-section="profile">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                        </svg>
                        Profile Settings
                    </a>
                </li>
            </ul>
        </aside>

        <main class="dashboard-content">
            <!-- Overview Section -->
            <div id="overview-section" class="content-section">
                <div id="successAlert" style="display: none;"></div>
                
                <h2 class="section-title">Dashboard Overview</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total Orders</div>
                        <div class="stat-value" id="totalOrders">5</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Total Spent</div>
                        <div class="stat-value" id="totalSpent">₦125,000</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Active Orders</div>
                        <div class="stat-value" id="activeOrders">2</div>
                    </div>
                </div>

                <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 20px;">Recent Orders</h3>
                <div class="orders-table-container">
                    <table class="orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Date</th>
                                <th class="hide-mobile">Items</th>
                                <th>Total</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="recentOrdersTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Section -->
            <div id="orders-section" class="content-section" style="display: none;">
                <h2 class="section-title">My Orders</h2>
                <table class="orders-table">
                    <thead>
                        <tr>
                            <th>Order ID</th>
                            <th>Date</th>
                            <th class="hide-mobile">Items</th>
                            <th>Total</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="allOrdersTable"></tbody>
                </table>
            </div>

            <!-- Profile Section -->
            <div id="profile-section" class="content-section" style="display: none;">
                <h2 class="section-title">Profile Settings</h2>
                <form class="profile-form" id="profileForm">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="profileName" value="John Doe">
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="profileEmail" value="john.doe@example.com" disabled>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="profilePhone" value="+234 XXX XXX XXXX">
                    </div>
                    <div class="form-group">
                        <label>Address</label>
                        <input type="text" id="profileAddress" value="123 Main Street, Lagos">
                    </div>
                    <button type="submit" class="save-btn">Save Changes</button>
                </form>
            </div>
        </main>
    </div>

    <!-- Order Details Modal -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeOrderModal()">&times;</span>
            <h2 class="modal-title">Order Details</h2>
            <div id="orderDetailsContent"></div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <script>
        // Sample user data
        const userData = {
            name: "John Doe",
            email: "john.doe@example.com",
            phone: "+234 XXX XXX XXXX",
            address: "123 Main Street, Lagos"
        };

        // Sample orders data
        const ordersData = [
            {
                id: "ORD-001",
                date: "2024-10-10",
                items: [
                    { name: "Adire Long Gown", price: 12000, quantity: 1, image: "assets/images/adire_gown1.jpeg" },
                    { name: "Adire Two-Piece Set", price: 12000, quantity: 2, image: "assets/images/adire_twopiece1.jpeg" }
                ],
                total: 36000,
                status: "delivered",
                shipping: {
                    address: "123 Main Street",
                    city: "Lagos",
                    state: "Lagos"
                }
            },
            {
                id: "ORD-002",
                date: "2024-10-12",
                items: [
                    { name: "Adire Batik Fabric", price: 20000, quantity: 1, image: "assets/images/adire_batik1.jpeg" }
                ],
                total: 20000,
                status: "shipped",
                shipping: {
                    address: "123 Main Street",
                    city: "Lagos",
                    state: "Lagos"
                }
            },
            {
                id: "ORD-003",
                date: "2024-10-13",
                items: [
                    { name: "Adire Men's Kaftan", price: 15000, quantity: 1, image: "assets/images/adire_men1.jpeg" }
                ],
                total: 15000,
                status: "processing",
                shipping: {
                    address: "123 Main Street",
                    city: "Lagos",
                    state: "Lagos"
                }
            },
            {
                id: "ORD-004",
                date: "2024-10-08",
                items: [
                    { name: "Adire Tye & Dye Gown", price: 10000, quantity: 3, image: "assets/images/adire_tye-dye3.jpeg" }
                ],
                total: 30000,
                status: "delivered",
                shipping: {
                    address: "123 Main Street",
                    city: "Lagos",
                    state: "Lagos"
                }
            },
            {
                id: "ORD-005",
                date: "2024-10-05",
                items: [
                    { name: "Adire Short Gown", price: 10000, quantity: 2, image: "assets/images/adire_gown4.jpeg" },
                    { name: "Adire Top", price: 7000, quantity: 1, image: "assets/images/adire_twopiece5.jpeg" }
                ],
                total: 27000,
                status: "delivered",
                shipping: {
                    address: "123 Main Street",
                    city: "Lagos",
                    state: "Lagos"
                }
            }
        ];

        // Check for success message from checkout
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('order') === 'success') {
                const alertDiv = document.getElementById('successAlert');
                alertDiv.innerHTML = `
                    <div class="success-alert">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <div>
                            <strong>Order Placed Successfully!</strong>
                            <p style="margin-top: 5px; font-size: 13px;">Your order has been received and is being processed. You will receive an email confirmation shortly.</p>
                        </div>
                    </div>
                `;
                alertDiv.style.display = 'block';
            }
        });

        // Load user data
        document.getElementById('userName').textContent = userData.name;
        document.getElementById('profileName').value = userData.name;
        document.getElementById('profileEmail').value = userData.email;
        document.getElementById('profilePhone').value = userData.phone;
        document.getElementById('profileAddress').value = userData.address;

        // Calculate stats
        const totalOrders = ordersData.length;
        const totalSpent = ordersData.reduce((sum, order) => sum + order.total, 0);
        const activeOrders = ordersData.filter(o => o.status === 'processing' || o.status === 'shipped').length;

        document.getElementById('totalOrders').textContent = totalOrders;
        document.getElementById('totalSpent').textContent = `₦${totalSpent.toLocaleString()}`;
        document.getElementById('activeOrders').textContent = activeOrders;

        // Status badge helper
        function getStatusBadge(status) {
            const statusMap = {
                pending: { class: 'status-pending', text: 'Pending' },
                processing: { class: 'status-processing', text: 'Processing' },
                shipped: { class: 'status-shipped', text: 'Shipped' },
                delivered: { class: 'status-delivered', text: 'Delivered' },
                cancelled: { class: 'status-cancelled', text: 'Cancelled' }
            };
            const statusInfo = statusMap[status] || statusMap.pending;
            return `<span class="order-status ${statusInfo.class}">${statusInfo.text}</span>`;
        }

        // Load recent orders (last 3)
        function loadRecentOrders() {
            const recentOrders = ordersData.slice(0, 3);
            const tableBody = document.getElementById('recentOrdersTable');
            
            tableBody.innerHTML = recentOrders.map(order => `
                <tr>
                    <td class="order-id">${order.id}</td>
                    <td>${new Date(order.date).toLocaleDateString('en-GB')}</td>
                    <td class="hide-mobile">${order.items.length} item(s)</td>
                    <td>₦${order.total.toLocaleString()}</td>
                    <td>${getStatusBadge(order.status)}</td>
                    <td><button class="view-btn" onclick="viewOrder('${order.id}')">View</button></td>
                </tr>
            `).join('');
        }

        // Load all orders
        function loadAllOrders() {
            const tableBody = document.getElementById('allOrdersTable');
            
            if (ordersData.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6">
                            <div class="empty-state">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                                </svg>
                                <h3>No Orders Yet</h3>
                                <p>Start shopping to see your orders here</p>
                                <a href="shop.html" class="btn">Browse Products</a>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            tableBody.innerHTML = ordersData.map(order => `
                <tr>
                    <td class="order-id">${order.id}</td>
                    <td>${new Date(order.date).toLocaleDateString('en-GB')}</td>
                    <td class="hide-mobile">${order.items.length} item(s)</td>
                    <td>₦${order.total.toLocaleString()}</td>
                    <td>${getStatusBadge(order.status)}</td>
                    <td><button class="view-btn" onclick="viewOrder('${order.id}')">View</button></td>
                </tr>
            `).join('');
        }

        // View order details
        function viewOrder(orderId) {
            const order = ordersData.find(o => o.id === orderId);
            if (!order) return;

            const modal = document.getElementById('orderModal');
            const content = document.getElementById('orderDetailsContent');

            content.innerHTML = `
                <div class="order-detail-section">
                    <h3>Order Information</h3>
                    <div class="detail-row">
                        <span class="detail-label">Order ID:</span>
                        <span class="detail-value">${order.id}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value">${new Date(order.date).toLocaleDateString('en-GB')}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span class="detail-value">${getStatusBadge(order.status)}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Total:</span>
                        <span class="detail-value">₦${order.total.toLocaleString()}</span>
                    </div>
                </div>

                <div class="order-detail-section">
                    <h3>Shipping Address</h3>
                    <p style="color: #666; line-height: 1.6;">
                        ${order.shipping.address}<br>
                        ${order.shipping.city}, ${order.shipping.state}
                    </p>
                </div>

                <div class="order-detail-section">
                    <h3>Order Items</h3>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <img src="${item.image}" alt="${item.name}" class="order-item-img">
                                <div class="order-item-info">
                                    <h4>${item.name}</h4>
                                    <p>Quantity: ${item.quantity}</p>
                                    <p style="font-weight: 600; color: #2a2a2a; margin-top: 5px;">₦${(item.price * item.quantity).toLocaleString()}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            modal.classList.add('active');
        }

        function closeOrderModal() {
            document.getElementById('orderModal').classList.remove('active');
        }

        // Section navigation
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active link
                document.querySelectorAll('.sidebar-menu a').forEach(a => a.classList.remove('active'));
                this.classList.add('active');

                // Show corresponding section
                const section = this.dataset.section;
                document.querySelectorAll('.content-section').forEach(s => s.style.display = 'none');
                document.getElementById(`${section}-section`).style.display = 'block';

                // Load data for specific sections
                if (section === 'orders') {
                    loadAllOrders();
                }
            });
        });

        // Profile form submission
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            userData.name = document.getElementById('profileName').value;
            userData.phone = document.getElementById('profilePhone').value;
            userData.address = document.getElementById('profileAddress').value;

            document.getElementById('userName').textContent = userData.name;

            showToast('Profile updated successfully!', 'success');
        });

        // Logout function
        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                showToast('Logging out...', 'success');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1500);
            }
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.className = `toast ${type}`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.getElementById('mobileNav').classList.toggle('active');
        });

        // Close modal on outside click
        window.addEventListener('click', (e) => {
            const modal = document.getElementById('orderModal');
            if (e.target === modal) {
                closeOrderModal();
            }
        });

        // Initialize
        loadRecentOrders();
        loadAllOrders();
    </script>
</body>
</html>